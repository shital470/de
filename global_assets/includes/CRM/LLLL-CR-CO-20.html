<!-- Dashboard content -->
        <!-- main content code -->

        <div class="row justify-content-center">

                            <div class="col">
                                <div class="card">
                                    <div class="card-header">
                                        <div class="row">
                                            <div class="col-lg-6 col-xs-2">
                                                <!--<h4><span class="card-title">Customer : Edit Customer<span></h4>-->
                                            </div>
                                            <div class="col-lg-6">
                                                <a href="#!" class="btn btn-sm btn-primary float-right" style="margin-right:8px;">Cancel</a>
                                                <a href="#!" class="btn btn-sm btn-primary float-right" id="deletebtnID" style="display: none; margin-right: 8px;">Delete</a>
                                                <a href="#!" class="btn btn-sm btn-primary float-right" id="updatebtnID" style="display: none; margin-right: 8px;">Update</a>
                                                <a href="#!" class="btn btn-sm btn-primary float-right" style="margin-right:8px;" id="savebtnid">Save</a>
                                            </div>
                                        </div>
                                    </div>

                                    <!--Form layout-->
                                    <div class="card-body">
                                        <div class="col-lg-12">
                                            <div class="card-header header-elements-inline" style="padding-top: 5px;padding-bottom: 20px;">
                                                <!--<h6 class="font-weight-semibold">EDIT Customer</h6>-->
                                            </div>
                                        </div>

                                        <div class="row">

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Compaign Owner&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" value="FIT">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Type&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="TypeId">
                                                            <option value="Select" selected>--select--</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Compaign Name*&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" id="CompaignNameId">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Product Name&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="ProductNameId">
                                                            <option value="Select" selected>--select--</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Status&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="StatusId">
                                                            <option value="Select" selected>--select--</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Location&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="LocationId">
                                                            <option value="Select" selected>--select--</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Sku Name&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="SkuNameId">
                                                            <option value="Select" selected>--select--</option>

                                                            <option>22 Marble</option>
                                                            <option>500 Marble</option>
                                                            <option>ATESTSAMPLE</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>


                                        </div>

                                        <div class="row">
                                            
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        Industry&nbsp;:
                                                    </label>
                                                    <div class="col-lg-6">
                                                        <select class="form-control" id="IndustryId">
                                                            <option value="Select" selected>--select--</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Start Date&nbsp;:</label>
                                                    <div class="input-group col-lg-6">
                                                     
                                                        <input type="date" class="form-control daterange-single" id="FromdateID">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">
                                                        End Date&nbsp;:
                                                    </label>
                                                    <div class="input-group col-lg-6">
                                                      
                                                        <input type="date" class="form-control daterange-single" id="EnddateId">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Expected Revenue&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" id="ExpectedRevenueId">
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Budgeted Cost&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" value="0" id="BUdgetCostId">
                                                    </div>
                                                </div>

                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Actual Cost&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" value="0" id="ActualCostId">
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Expected Response&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" id="ExpectedResponseId">
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-lg-6">
                                                <div class="form-group row offset-1">
                                                    <label class="col-lg-4 col-form-label">Description&nbsp;:</label>
                                                    <div class="col-lg-6">
                                                        <input type="text" class="form-control" id="DescriptionId">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        

                                        <hr class="my-3">


                                        <div class="table-responsive">
                            <div class="col-md-12  p-1">
                                <a href="CreateCrmAccCustomer.html" class="btn btn-sm  bg-primary text-white" style="margin:0px;">Contact</a>
                                <a href="CrmAccCustomer.html" class="btn btn-sm  bg-primary text-white" style="margin:0px;">Activities</a>
                                <a href="ScheduleEvent.html" class="btn btn-sm  bg-primary text-white" style="margin:0px;"> Opportunities</a>
                                <a href="ScheduleEvent.html" class="btn btn-sm  bg-primary text-white" style="margin:0px;"> Cases</a>
                                <a href="ScheduleEvent.html" class="btn btn-sm  bg-primary text-white" style="margin:0px;"> Potentials</a>
                            </div>
                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
        <!-- /main content code -->
        <!-- /Content area -->






    <script src="../assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/vendor/js-cookie/js.cookie.js"></script>
    <script src="../assets/vendor/jquery.scrollbar/jquery.scrollbar.min.js"></script>
    <script src="../assets/vendor/jquery-scroll-lock/dist/jquery-scrollLock.min.js"></script>
    <!-- Argon JS -->
    <script src="../assets/js/argon.js?v=1.2.0"></script>
    <script src="../assets/vendor/jquery/dist/jquery.min.js"></script>

    <!-- Argon Scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>

    <!--model link-->

    <script src="../Model/CrmContact.js" type="text/javascript"></script>

    <!--sidebar code-->
    <script>
        $(document).ready(function () {

            $('#content').load("Sidebar.html");

        });</script>




    <!--dropdown list-->

    <script type="text/javascript">
        $(function () {
            debugger
            GetParameterType('CAMTYP');
            GetParameterType('STA');
            GetParameterType('CT');
            GetParameterType('IND');


        });
        //create first function for getparameretertypeid
        function GetParameterType(parametertype) {
            alert(parametertype);
            debugger
            var cccd = localStorage.getItem('CCAC');
            $.ajax({
                type: "GET",
                url: URLPowerAPI+'/api/PBXMLParameter/GetParameterTypeID',
                dataType: "json",
                contentType: "application/json",
                data: {
                    PARTYPE: parametertype,
                    cccd: cccd
                },
                beforeSend: function () {
                    $("#loader1").show();
                },
                success: function (res) {

                    $("#loader1").hide();
                    var abc = res;
                    
                    GetDropDown(abc, parametertype);

                }

            });
        }


        //second function for dropdown
        function GetDropDown(parameter, parametertype) {
            debugger


            var cccd = localStorage.getItem('CCAC');
            $.ajax({
                type: "GET",
                url: URLPowerAPI+'/api/PBXMLParametercode/GetAllActiveParameterCodes',
                dataType: "json",
                contentType: "application/json",

                data: {
                    PARTYPEID: parameter,
                    cccd: cccd
                },

                success: function (res) {

                    $.each(res, function (data, value) {
                        if (parametertype == 'CAMTYP') {
                            $("#TypeId").append($("<option></option>").val(value.ParCodeID).html(value.ParCodeDescription));
                        }
                        else if (parametertype == 'STA') {
                            $("#StatusId").append($("<option></option>").val(value.ParCodeID).html(value.ParCodeDescription));
                        }
                        else if (parametertype == 'CT') {
                            $("#LocationId").append($("<option></option>").val(value.ParCodeID).html(value.ParCodeDescription));
                        }
                        else if (parametertype == 'IND') {
                            $("#IndustryId").append($("<option></option>").val(value.ParCodeID).html(value.ParCodeDescription));
                        }
                    })
                }

            });
        }
    </script>

    <script type="text/javascript">
        $(function () {
            debugger
            var cccd = localStorage.getItem('CCAC');

            $.ajax
                ({

                    url: URLPowerAPI+'/api/PBXMLVStockGroups/GetAllPBXMLVStockGroup',
                    type: 'GET',
                    dataType: 'json',
                    contentType: 'application/json ; charset = utf-8',
                    data:
                    {
                        cccd: cccd

                    },

                    success: function (res) {

                        var maxcount = Math.max.apply(Math, res.map(function (o) { return o.Itcd }));
                         alert(maxcount + "max count");
                        localStorage.setItem('MaxItcd', maxcount + 1)
                     
                        //alert("Data inside ajax...!!!")
                        //alert(JSON.stringify(res));
                        $.each(res, function (index, value) {
                            $("#ProductNameId").append($("<option></option>").val(value.Itcd).html(value.STOCKGROUP));
                           



                        });
                    }

                });

        });



    </script>

    <!--Add and  edit api-->

    <script type="text/javascript">
        function Groupfunction() {
            // alert("in function");
            debugger
            var url1 = window.location.href;
            var arr = url1.split('=');
            console.log(url1.length)

            if (arr.length > 1) {
                var mode = url1.split("=")[2];
                var AccNo1 = url1.split("=")[1];
                var index = (AccNo1).indexOf('&');
                var CampaignNo = AccNo1.substring(0, index);

            }
            //StartDate: $("#StartDateId").val(),
            //    EndDate: $("#EnddateId").val(),

            var StartDate1 = $("#StartDateId").val();
            var StartDate = (StartDate1 +":"+0+0);
            var EndDate1 = $("#EnddateId").val();
            var EndDate = (EndDate1 + ":" + 0 + 0);

            var cccd = localStorage.getItem('CCAC');
            var TypeName = $("#TypeId option:selected").text();
            var TypeNo = $("#TypeId option:selected").val();
            var StockGroupName = $("#ProductNameId option:selected").text();
            var StockGroupNo = $("#ProductNameId option:selected").val();
            var StatusName = $("#StatusId option:selected").text();
            var StatusNo = $("#StatusId option:selected").val();
            var SkuName = $("#SkuNameId option:selected").text();
            var SkuNo = $("#SkuNameId option:selected").val();
            var LocationName = $("#LocationId option:selected").text();
            var LocationNo= $("#LocationId option:selected").val();
            var IndustryName = $("#IndustryId option:selected").text();
            var IndustryNo = $("#IndustryId option:selected").val();
            var Itcd = localStorage.getItem("MaxItcd");
            var CurrentDate = new Date();
            var curndate = CurrentDate.toISOString().replace('Z', '');
            var status = "A";


            //storesession value
            var UId;
            var Username;
            var Createdsystem;
            var Createdate;

            if (mode == 'edit') {
                CampaignNo = CampaignNo,
                UId = sessionStorage.getItem('CreatedBy');
                Username = sessionStorage.getItem('Username');
                Createdsystem = sessionStorage.getItem('Createdsystem');
                Createdate = sessionStorage.getItem('Createdate');
                StockGroupNo = sessionStorage.getItem('StockGroupNo');
                Itcd = sessionStorage.getItem('Itcd');

            }
            else {
                CampaignNo = localStorage.getItem('MaxCampNo');
                UId = localStorage.getItem('UID');
                Username = localStorage.getItem('UName');
                Createdsystem = 'PowerSuit';
                Createdate = curndate;
            }

            var parameter = {

                
                CampaignNo: CampaignNo, 
                CampaignName: $("#CompaignNameId").val(),
                Itcd: Itcd,
                TypeName: TypeName,
                TypeNo: TypeNo,
                StockGroupName: StockGroupName,
                StockGroupNo: StockGroupNo,
                StatusName: StatusName,
                StockItem: SkuName,
                SkuNo: SkuNo,
                StatusNo: StatusNo,
                LocationName: LocationName,
                LocationNo: LocationNo,
                IndustryName: IndustryName,
                IndustryNo: IndustryNo,
                StartDate: StartDate,
                EndDate: EndDate,
                BudgetCost: $("#BUdgetCostId").val(),
                Description: $("#DescriptionId").val(),
                ExpectedResponse: $("#ExpectedResponseId").val(),
                ExpectedRevenue: $("#ExpectedRevenueId").val(),
                ActualCost: $("#ActualCostId").val(),
                CCCD: cccd,
                CreatedBy: UId,
                LastUpdatedBy: UId,
                CampaignOwner: UId,
                CREATEDDATE: Createdate,
                LASTUPDATEDDATE: curndate
            }
            return parameter
        }
        $("#savebtnid").click(function () {

            // alert("ghggg");
            var addparameter = Groupfunction();
            localStorage.setItem("addparameteraddd", JSON.stringify(addparameter));
            alert("localstorageadd")
         
            debugger
            $.ajax
                ({
                    type: 'POST',
                    url: URLPowerAPI+'/api/PBXMLCampaign/AddPBXMLCampaign',
                    dataType: 'JSON',
                    data: JSON.stringify(addparameter),

                    contentType: 'application/json ; charset = utf-8',

                    success: function (data, textStatus, xhr) {

                        alert('Customer registered successfully');
                        window.location.href = "LLLL-CR-CO-50.shtml";
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        alert("You entered some invalid fields...! Fill the details again...");
                    }
                });

            return;

        });

        $("#updatebtnID").click(function () {
            debugger
            var addparameter = Groupfunction();
            localStorage.setItem("addparameter", JSON.stringify(addparameter));
            alert("localstorage")
            $.ajax
                ({
                    type: 'POST',
                    url: URLPowerAPI+'/api/PBXMLCampaign/EditPBXMLCampaign',
                    dataType: 'JSON',
                    data: JSON.stringify(addparameter),
                    contentType: 'application/json ; charset = utf-8',

                    success: function (data, textStatus, xhr) {
                        alert('Customer registered successfully');
                        window.location.href = "LLLL-CR-CO-50.shtml";
                    },
                    error: function (xhr, textStatus, errorThrown) {
                        alert("You entered some invalid fields...! Fill the details again...");
                    }
                });
            return;

        });
    </script>



    <!--GET API-->
    <script>
        $(document).ready(function () {
            debugger
            set_MainHeaderName();
            var url1 = window.location.href;
            var mode = url1.split("=")[2];
            var Itcd1 = url1.split("=")[1];
            var index = (Itcd1).indexOf('&');
            var Itcd = Itcd1.substring(0, index);
            var cccd = localStorage.getItem('CCAC');
            // alert(mode);
            //alert(Id);

            if (mode == 'edit') {
                $.ajax({
                    type: 'GET',
                    url: URLPowerAPI+'/api/PBXMLCampaign/GetPBXMLCampaignByID',
                    dataType: 'JSON',
                    contentType: 'application/json ; charset = utf-8',
                    //data: JSON.stringify(groupname),
                    data: {
                        cccd: cccd,
                        CampaignNo: Itcd
                    },
                    beforeSend: function () {
                        $("#loader1").show();
                    },
                    contentType: 'application/json ; charset = utf-8',
                    success: function (data) {
                        $("#loader1").hide();
                        ObjCrmCampaingn = data;

                        $('#TypeId option:selected').text(ObjCrmCampaingn.TypeName);
                        $("#CompaignNameId").val(ObjCrmCampaingn.CampaignName);
                        $('#ProductNameId option:selected').text(ObjCrmCampaingn.StockGroupName);
                        $('#StatusId option:selected').text(ObjCrmCampaingn.StatusName);
                        $('#SkuNameId option:selected').text(ObjCrmCampaingn.StockItem);
                        $('#LocationId  option:selected').text(ObjCrmCampaingn.LocationName);
                        $('#IndustryId  option:selected').text(ObjCrmCampaingn.IndustryName);
                        $("#StartDateId").val(ObjCrmCampaingn.StartDate);
                        $("#EnddateId").val(ObjCrmCampaingn.EndDate);
                        $("#ExpectedRevenueId").val(ObjCrmCampaingn.ExpectedRevenue);
                        $("#ExpectedResponseId").val(ObjCrmCampaingn.ExpectedResponse);
                        $("#BUdgetCostId").val(ObjCrmCampaingn.BudgetCost);
                        $("#DescriptionId").val(ObjCrmCampaingn.Description);
                        
                        sessionStorage.setItem('Itcd', ObjCrmCampaingn.Itcd);
                        sessionStorage.setItem('StockGroupNo', ObjCrmCampaingn.StockGroupNo);
                        sessionStorage.setItem('UId', ObjCrmCampaingn.UID);
                        sessionStorage.setItem('CreatedBy', ObjCrmCampaingn.CreatedBy);
                        sessionStorage.setItem('Username', ObjCrmCampaingn.USERNAME);
                        sessionStorage.setItem('Createdsystem', ObjCrmCampaingn.CREATEDSYSTEM);
                        sessionStorage.setItem('Createdate', ObjCrmCampaingn.CreatedDate);
                    


                       


                    },

                });


            }

            $("#deletebtnID").show();
            $("#updatebtnID").show();
            $("#savebtnid").hide();




            $("#deletebtnID").click(function () {
                var url1 = window.location.href;
                var Itcd1 = url1.split("=")[1];
                var index = (Itcd1).indexOf('&');
                var Itcd = Itcd1.substring(0, index);
                var cccd = localStorage.getItem('CCAC');

                $.ajax({
                    url: URLPowerAPI+'/api/PBXMLCampaign/DELETEPBXMLCampaign',
                    type: 'GET',
                    dataType: 'JSON',
                    data: {
                        cccd: cccd,
                        CampaignNo: Itcd

                    },

                    contentType: 'application/json ; charset = utf-8',
                    success: function (data, textStatus, xhr) {
                        alert("PBXMLCostcategory deleted successfully");
                        window.location.href = "LLLL-CR-CO-50.shtml";

                    },
                    error: function (xhr, textStatus, errorThrown) {
                        alert("You entered wrong password...! Fill the details again...");
                    }
                });
            });
        });

    </script>
    <script>
        function set_MainHeaderName() {
            $('#MainPHead_Name').html('<i class="icon-arrow-left52 mr-2"></i> <span class="font-weight-semibold" id="main_id">CRM</span> - Customer');
            $('#MainPHead_Name1').html('<a href="#" class="breadcrumb-item"><i class="icon-home2 mr-2"></i>CRM</a><span class="breadcrumb-item active">Customer</span>');
        };
    </script>


